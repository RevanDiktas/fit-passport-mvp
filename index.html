<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Avatar + T-Shirt MVP</title>
    <style>
      html, body { height: 100%; }
      body { margin: 0; background: #111; color: #eee; font-family: system-ui; }
      #ui {
        position: fixed; left: 12px; top: 12px; z-index: 10;
        background: #111a; padding: 12px; border-radius: 10px; font-size: 14px;
        backdrop-filter: blur(4px); max-width: 360px;
      }
      #ui h3 { margin: 0 0 8px 0; }
      #ui details { margin: 8px 0; }
      #ui label { display: block; margin: 6px 0; }
      #ui input[type="range"] { width: 220px; vertical-align: middle; }
      #ui .row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
      #c { position: fixed; inset: 0; outline: none; }
      #error {
        position: fixed; right: 12px; top: 12px; z-index: 10;
        background: #2b1a1a; color: #ffd5d5; padding: 10px 12px; border-radius: 8px;
        display: none; max-width: 40ch; box-shadow: 0 6px 20px #0008;
      }
      .small { opacity:.8; font-size:12px; }
    </style>
  </head>
  <body>
    <div id="ui">
      <h3>Avatar + T-Shirt</h3>

      <button id="reload">Reload /avatar.glb</button>
      <label class="small" style="display:block; margin-top:6px;">
        or open a local .glb
        <input type="file" id="fileInput" accept=".glb" />
      </label>
      <div id="info" class="small" style="margin-top:6px;"></div>

      <details open>
        <summary><b>T-Shirt</b></summary>
        <label>Chest (cm) <input type="range" id="shirtChest" min="70" max="130" value="100"></label>
        <label>Waist (cm) <input type="range" id="shirtWaist" min="60" max="130" value="96"></label>
        <label>Body Length (cm) <input type="range" id="shirtLen" min="45" max="85" value="68"></label>
        <label>Sleeve Length (cm) <input type="range" id="sleeveLen" min="10" max="35" value="20"></label>
        <label>Sleeve Circ (cm) <input type="range" id="sleeveCirc" min="20" max="50" value="32"></label>
        <label>Tightness <input type="range" id="tightness" min="0.9" max="1.1" step="0.005" value="0.98"></label>
        <label>Garment Image <input type="file" id="textureFile" accept="image/*"></label>
      </details>

      <div id="measureReadout" class="small"></div>
    </div>

    <div id="error"></div>

    <canvas id="c"></canvas>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
